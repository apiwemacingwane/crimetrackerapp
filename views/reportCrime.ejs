<!DOCTYPE html>
<html lang="en">
<head>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- Tell the browser to be responsive to screen width -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Home | Crime Tracker</title>
        <!-- Favicon icon -->
        <link rel="icon" type="image/png" sizes="16x16" href="/images/police-handcuffs.png" >
        <!-- Custom CSS -->
        <link rel="stylesheet" href="style.css">
        <link href="plugins/bower_components/chartist/dist/chartist.min.css" rel="stylesheet">
        <link rel="stylesheet" href="plugins/bower_components/chartist-plugin-tooltips/dist/chartist-plugin-tooltip.css">
        <!-- Custom CSS -->
        <link href="css/style.min.css" rel="stylesheet">
        <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/6.x/6.20.0/maps/maps-web.min.js"></script>

    </head>
    <body>
    
        <div id="main-wrapper" data-layout="vertical" data-navbarbg="skin5" data-sidebartype="full"
        data-sidebar-position="absolute" data-header-position="absolute" data-boxed-layout="full">
        <!-- Topbar header - style you can find in pages.scss -->
            <header class="topbar" data-navbarbg="skin5">
            <nav class="navbar top-navbar navbar-expand-md navbar-dark">
                <div class="navbar-header" data-logobg="skin6">
                    <!-- Logo -->
                    <a class="navbar-brand" href="/home">
                        <b class="logo-icon">
                            <!-- Dark Logo icon -->
                            <img src="images/police-handcuffs.png" alt="homepage" width="50" height="50"/>
                        </b>
                        <span class="logo-text">
                            <!-- dark Logo text -->
                            <img src="images/images.jpg" alt="homepage" />
                        </span>
                    </a>
                </div>
            </nav>
            </header>
        </div>
      <div class="page-heading">
        <h2 class="page-heading-text">Report Crime</h2>
       </div>
    
       <div class="container-fluid">
        <div class="row justify-content-center">        
            <div class="col-lg-4 col-md-12">
                <div class="white-box ">
                  <div>
                    <h3>Details</h3>
                    <form action="/report-crime" method="post">
                        <div class="form-input"><input type="text" name="fullname" onclick="getlocation()" placeholder="Enter your name"></div>
                        <div class="form-input"><input type="email" name="email" placeholder="Enter your email address"></div>
                        <div class="form-input"><input type="text" name="phone" placeholder="Enter your number"></div>
                        <div class="form-input"><input type="hidden" name="location" id="locationId" placeholder="Enter the location"></div>
                        <div class="form-input"><textarea name="description" cols="40" rows="10" placeholder="Describe the crime"></textarea></div> 
                        <div><button class="form-button btn btn-primary"  type="submit">Submit</button></div>
                    </form>
                  </div>
                </div>
            </div>
            <div id="map">
                <!-- <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> -->
                    <script type="text/javascript">
            
                    
                    
                    import tt from '@tomtom-international/web-sdk-maps'
                    var map = tt.map({
                        key: "BoLC9waGtIqMa7OF8GeW1E7cdODwiohH",
                        container: "map",
                        center: [-33.894272,18.629438], 
                        zoom:1,
                        "cluster": true,
                        "clusterRadius": 70
                        });
                        map.addControl(new tt.FullscreenControl());
                        map.addControl(new tt.NavigationControl());
                    
                </script>
            </div>
        </div>
        <script type="text/javascript">

            function getlocation() {
            if (navigator.geolocation) {
                console.log("in if");
                navigator.geolocation.getCurrentPosition(showPosition);
                console.log("in if 2");
            } else { 
                alert("Geolocation is not supported by this browser.");
            }
            }

            function showPosition(position) {
            console.log("in fn");
            console.log("log1",document.getElementById("locationId").value);
            document.getElementById("locationId").value = [position.coords.latitude, position.coords.longitude];
            console.log("log2",document.getElementById("locationId").value);
            console.log(position.coords.latitude, position.coords.longitude);
            }
            </script>   
    </body>
</html>